"use strict";(()=>{var e={};e.id=1178,e.ids=[1178],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5900:e=>{e.exports=require("pg")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2781:e=>{e.exports=require("stream")},3837:e=>{e.exports=require("util")},7851:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>x,originalPathname:()=>q,patchFetch:()=>y,requestAsyncStorage:()=>g,routeModule:()=>d,serverHooks:()=>j,staticGenerationAsyncStorage:()=>f,staticGenerationBailout:()=>h});var r={};a.r(r),a.d(r,{DELETE:()=>l,GET:()=>m,PUT:()=>p});var n=a(5419),i=a(9108),s=a(9678),o=a(8070),u=a(6686),c=a(9151);async function m(e,{params:t}){try{let{id:a}=t,r=(0,c.mk)(e);if(!r)return o.Z.json({error:"Authentication required"},{status:401});let n=await (0,u.HX)(a,r);return o.Z.json({campaign:n})}catch(e){if(console.error("Get email campaign error:",e),"Email campaign not found"===e.message)return o.Z.json({error:"Email campaign not found"},{status:404});return o.Z.json({error:"Failed to retrieve email campaign"},{status:500})}}async function p(e,{params:t}){try{let{id:a}=t,r=(0,c.mk)(e);if(!r)return o.Z.json({error:"Authentication required"},{status:401});let n=await e.json(),i=await (0,u.Ht)(a,r,n);return o.Z.json({message:"Email campaign updated successfully",campaign:i})}catch(e){if(console.error("Update email campaign error:",e),"Email campaign not found"===e.message)return o.Z.json({error:"Email campaign not found"},{status:404});if("Cannot update a sent campaign"===e.message)return o.Z.json({error:"Cannot update a sent campaign"},{status:400});return o.Z.json({error:"Failed to update email campaign"},{status:500})}}async function l(e,{params:t}){try{let{id:a}=t,r=(0,c.mk)(e);if(!r)return o.Z.json({error:"Authentication required"},{status:401});return await (0,u.O_)(a,r),o.Z.json({message:"Email campaign deleted successfully"})}catch(e){if(console.error("Delete email campaign error:",e),"Email campaign not found"===e.message)return o.Z.json({error:"Email campaign not found"},{status:404});if("Cannot delete a sent campaign"===e.message)return o.Z.json({error:"Cannot delete a sent campaign"},{status:400});return o.Z.json({error:"Failed to delete email campaign"},{status:500})}}let d=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/email-campaigns/[id]/route",pathname:"/api/email-campaigns/[id]",filename:"route",bundlePath:"app/api/email-campaigns/[id]/route"},resolvedPagePath:"/home/ubuntu/marketingsoftware/marketingsoftware-main/src/app/api/email-campaigns/[id]/route.js",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:f,serverHooks:j,headerHooks:x,staticGenerationBailout:h}=d,q="/api/email-campaigns/[id]/route";function y(){return(0,s.patchFetch)({serverHooks:j,staticGenerationAsyncStorage:f})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[1638,6206,7145,7439,1469],()=>a(7851));module.exports=r})();