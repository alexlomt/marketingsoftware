"use strict";(()=>{var e={};e.id=7600,e.ids=[7600],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5900:e=>{e.exports=require("pg")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2781:e=>{e.exports=require("stream")},3837:e=>{e.exports=require("util")},8267:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>g,originalPathname:()=>x,patchFetch:()=>h,requestAsyncStorage:()=>w,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>k,staticGenerationBailout:()=>j});var o={};t.r(o),t.d(o,{DELETE:()=>f,GET:()=>c,PUT:()=>d});var s=t(5419),n=t(9108),a=t(9678),i=t(8070),u=t(8815),l=t(9151);async function c(e,{params:r}){try{let{id:t}=r,o=(0,l.mk)(e);if(!o)return i.Z.json({error:"Authentication required"},{status:401});let s=await (0,u.Eg)(t,o);return i.Z.json({workflow:s})}catch(e){if(console.error("Get workflow error:",e),"Workflow not found"===e.message)return i.Z.json({error:"Workflow not found"},{status:404});return i.Z.json({error:"Failed to retrieve workflow"},{status:500})}}async function d(e,{params:r}){try{let{id:t}=r,o=(0,l.mk)(e);if(!o)return i.Z.json({error:"Authentication required"},{status:401});let{name:s,description:n,trigger:a,actions:c,conditions:d,is_active:f}=await e.json();if(void 0!==c&&(!Array.isArray(c)||0===c.length))return i.Z.json({error:"At least one action is required"},{status:400});let p=await (0,u.rI)(t,o,{name:s,description:n,trigger:a,actions:c,conditions:d,is_active:f});return i.Z.json({message:"Workflow updated successfully",workflow:p})}catch(e){if(console.error("Update workflow error:",e),"Workflow not found"===e.message)return i.Z.json({error:"Workflow not found"},{status:404});return i.Z.json({error:"Failed to update workflow"},{status:500})}}async function f(e,{params:r}){try{let{id:t}=r,o=(0,l.mk)(e);if(!o)return i.Z.json({error:"Authentication required"},{status:401});return await (0,u._I)(t,o),i.Z.json({message:"Workflow deleted successfully"})}catch(e){if(console.error("Delete workflow error:",e),"Workflow not found"===e.message)return i.Z.json({error:"Workflow not found"},{status:404});return i.Z.json({error:"Failed to delete workflow"},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/workflows/[id]/route",pathname:"/api/workflows/[id]",filename:"route",bundlePath:"app/api/workflows/[id]/route"},resolvedPagePath:"/home/ubuntu/marketingsoftware/marketingsoftware-main/src/app/api/workflows/[id]/route.js",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:w,staticGenerationAsyncStorage:k,serverHooks:m,headerHooks:g,staticGenerationBailout:j}=p,x="/api/workflows/[id]/route";function h(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:k})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[1638,6206,7145,7439,7984],()=>t(8267));module.exports=o})();